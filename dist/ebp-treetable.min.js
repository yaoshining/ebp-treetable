!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var r,i;r=[t,n(1)],i=function(e,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(t),i=angular.module("ebp.treetable",["ngResource",r["default"].name]);e["default"]=i}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;r=[t,n(2),n(3),n(4),n(5),n(6),n(7)],i=function(e,t,n,r,i,a,l){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}Object.defineProperty(e,"__esModule",{value:!0});var d=c(t),u=o(n),s=o(r),p=o(i),f=o(a),h=o(l),v=angular.module("ebp.treeTable.core",[]);v.constant("defaultSettings",d.treeTableSettings).directive(d.directiveNames.ebpTreeTableCol,s["default"]).directive(d.directiveNames.ebpTreeTableCell,p["default"]).directive(d.directiveNames.ebpTreeTableNode,f["default"]).directive(d.directiveNames.ebpTreeTableHeader,h["default"]).directive(d.directiveNames.ebpTreeTable,u["default"]),e["default"]=v}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;r=[t],i=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.directiveNames={ebpTreeTable:"ebpTreetable",ebpTreeTableCol:"ebpTreetableCol",ebpTreeTableNode:"ebpTreetableNode",ebpTreeTableCell:"ebpTreetableCell",ebpTreeTableHeader:"columnheader"},e.treeTableSettings={expandAll:!1,colDefs:[],events:{edit:angular.noop,remove:angular.noop,add:angular.noop},dataSource:{read:null}}}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;r=[t,n(2)],i=function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){e.on("scroll",function(){var n=e.prop("scrollLeft");t.css({transform:"matrix(1, 0, 0, 1, "+-n+", 0)"})})}function a(e,t){"ngInject";function n(){var n=e("src/treeTable/templates/treeTable.tpl.html");return{post:function(e,r,a,l){r.addClass("ebp-tt-container"),n.then(function(n){r.append(t(n)(e));var a=r.find("table").width(),o=r.width(),c=$(".ebp-tt-content-wrapper"),d=$(".ebp-tt-header-wrapper");o>=a&&r.find("table").width("100%"),i(c,d),l.render()})}}}var r={restrict:"AE",compile:n,scope:!0,controller:s,controllerAs:"$ebpTreeTable"};return r}function l(e){this.settings={expandAll:e.expandAll},this.colDefs=_.sortBy(e.colDefs||[],function(e){return e.index}),this.events=e.events}function o(e,t){"ngInject";var n=t.dataSource;n.read&&(this.$readRepo=e(n.read.url,n.read.params))}function c(e,t,n,r){"ngInject";var i=e.find(".ebp-tt-content-wrapper"),a=i.find("tbody");a.append(d(this.data,n,t,1,{expand:this.settings.expandAll})),this.hideIndexCol=function(){e.find(".ebp-tt-index-cell,.ebp-tt-index-col").hide()},this.resizeCol=function(t,n){var r=e.find("table col:nth-child("+t+")");r.width(n)};var l=this.views.bubble||$("<div>").addClass("ebp-tt-bubble");e.off("mouseover").on({mouseover:function(t){var n=t.target,i=n.title||$(n).data("title"),a=$(n).position(),o=$(n).width(),c=$(n).height();i&&!function(){l.appendTo(e),n.title&&$(n).removeAttr("title").data("title",i),l.removeClass("upward").css({top:a.top+c+15,left:a.left+o/2+5}).text(i),e.height()-(a.top+l.height()+c)<20&&l.css({top:a.top-c-15}).addClass("upward");var t=r(function(){l.fadeIn()},500);$(n).one("mouseout",function(){r.cancel(t),l.stop().hide().detach()})}()}}),i.on("scroll",function(){return l.detach()}),this.views={bubble:l,content:{wrapper:i,tbody:a}}}function d(e,t,n,r,i){var a=_.template("<tr ebp-treetable-node></tr>"),l=$();return angular.forEach(e,function(e){var o=$(a()).data(i||{}),c=t.$new();c.node=e,c.level=r,l=l.add(n(o)(c))}),l}a.$inject=["$templateRequest","$compile"],o.$inject=["$resource","settings"],c.$inject=["$element","$compile","$scope","$timeout"],Object.defineProperty(e,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function f(e,i,a,s,h,v,b,g){"ngInject";var m=this;r(this,f);var x=b(i[t.directiveNames.ebpTreeTable]),y=x.apply(null,[e]);y=_.merge({},a,y),l.apply(this,[y]),h.invoke(o,this,{settings:y}),x.assign(e.$parent,h.instantiate(p,{treeTable:this}));var T=[],k={};this.$children=[],this.views={},this.remove=function(e){_.remove(m.data,function(t){return t.id===e.id})},this.checkAll=function(t){e.$broadcast("ebp-tt-node-check",t)},this.render=function(){m.retrieve().then(function(t){m.data=t,h.invoke(c,m,{$element:s,$scope:e})})},this.register=function(e){k[e.$id]=e},this.deregister=function(e){return delete k[e.$id]},this.reIndex=function(){var e=s.find("[ebp-treetable-node]");e.each(function(e,t){$(t).find(".ebp-tt-index-cell").text(e+1)})},this.refreshLevelNum=function(){e.$broadcast("ebp.tt.refreshLevelNum")},this.resizeMark={left:0,display:"none"},this.upgrade=function(e){return!angular.isArray(e)||e.length<1?!1:_.uniq(_.map(e,function(e){return k[e.id].$level})).length>1?!1:void(k[e[0].id].$level>1&&angular.forEach(_.map(e,function(e){return k[e.id]}).sort(function(e,t){return t.levelIndex-e.levelIndex}),function(e){var t=e.$parent.get(e.levelIndex+1);e.upgrade(t&&!t.checked)}))},this.degrade=function(e,t){if(!angular.isArray(e)||e.length<1)return!1;if(_.uniq(_.map(e,function(e){return k[e.id].$level})).length>1)return!1;if(t){if(!angular.isFunction(t))throw new Error("Expect a function to call, but got a/an "+("undefined"==typeof t?"undefined":u(t)))}else t=function(e){e()};var n=[],r=_.map(e,function(e){var t=k[e.id];return t.levelIndex>0&&!function(){var t=g.defer();e.degrade(function(){return t.resolve()}),n.push(t.promise)}(),t}).sort(function(e,t){return e.levelIndex-t.levelIndex});g.all(n).then(function(){t(function(){return angular.forEach(r,function(e){return e.degrade()})})})},Object.defineProperties(this,{$el:{get:function(){return s}},checkedNodes:{get:function(){return T}},$first:{get:function(){return m.$children[0]}},$last:{get:function(){return m.$children[m.$children.length-1]}}}),this.get=function(e){return m.$children[e]},this.findElement=function(e){return s.find("[ebp-treetable-node]:eq("+e+")")},this.retrieve=function(e,t,r){var i=e?e.data.id:0,a=g.defer();return m.$readRepo?m.$readRepo.query({id:i},function(i){if(e){var l;(l=m.data).push.apply(l,n(i));var o=d(i,e.$el.scope(),v,e.$level+1,{expand:t});r&&o.addClass("hidden"),o.insertAfter(e.$el),m.reIndex()}a.resolve(i)}):a.reject(),a.promise},this.$destroy=function(){angular.forEach(m.$children,function(e){angular.forEach(e.descendants,function(e){e.$destroy()}),e.$destroy()}),m.$children.length=0,m.views.bubble.detach()},this.add=function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;r>a;a++)i[a-2]=arguments[a];var l;(l=m.data).push.apply(l,i);var o=t||0,c=e,u=1,s=m.get(o-1);n&&(s=n.get(o-1),o=t+n.$el.index()+1,c=n.$el.scope(),u=n.$level+1,n.isParent=!0);var p=d(i,c,v,u,{index:t}),f=[];f=s?s.loaded?s.$last.$el.next():s.$el.next():m.findElement(o),f.length>0?p.insertBefore(f):p.appendTo(m.views.content.tbody),m.reIndex()},this.expandAll=function(){angular.forEach(m.$children,function(e){e.isParent&&e.expand(!0)})},this.collapseAll=function(){angular.forEach(m.$children,function(e){e.isParent&&e.collapse()})},this.refresh=function(){m.$destroy(),m.render()}};s.$inject=["$scope","$attrs","defaultSettings","$element","$injector","$compile","$parse","$q"];var p=function h(e){"ngInject";r(this,h),Object.defineProperties(this,{checkedNodes:{get:function(){return e.checkedNodes.map(function(e){return e.adapter})}},children:{get:function(){return e.$children.map(function(e){return e.adapter})}}}),this.insert=function(t,n){!n||e.$children&&t>e.$children.length||e.add(t,null,n)},this.expandAll=function(){return e.expandAll()},this.collapseAll=function(){return e.collapseAll()},this.upgrade=function(t){return e.upgrade(t)},this.degrade=function(t,n){return e.degrade(t,n)},this.refresh=function(){return e.refresh()}};p.$inject=["treeTable"],e["default"]=a}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;r=[t,n(2)],i=function(e,t){"use strict";function n(){function e(e,t,n,r){var i=t.html().trim(),a={title:n.title,index:n.index,width:n.width,tpl:i},l=_.sortedIndex(_.map(r.colDefs,function(e){return e.index}),a.index);r.colDefs.splice(l,0,a),t.remove()}var n={restrict:"AE",link:e,require:"^"+t.directiveNames.ebpTreeTable};return n}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;r=[t,n(2)],i=function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e){"ngInject";function n(t,n){n.addClass("ebp-tt-cell");var r=t.col;if(r.tpl){var i=angular.element("<div>").html(r.tpl);n.html(i),n.addClass("ebp-tt-func-cell"),e(i)(t)}}var r={restrict:"AE",link:n,scope:!1,require:"^"+t.directiveNames.ebpTreeTableNode,controller:i,controllerAs:"$cell"};return r}r.$inject=["$compile"],Object.defineProperty(e,"__esModule",{value:!0});var i=function a(){n(this,a)};e["default"]=r}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;r=[t],i=function(e){"use strict";function t(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){}function i(){var e={restrict:"AE",scope:!1,link:r,controller:s,controllerAs:"$node"};return e}function a(e,t,n,r,i){"ngInject";var a=this,o=e.node,c=e.$ebpTreeTable,d=c.events;this.render=function(){var r='<td class="ebp-tt-index-cell"><%- index+1%></td>\n                   <td class="ebp-tt-level-cell"><%- levelNum%></td>',d=a.levelNum,u=_.template(r),s=$(u({index:t.index(),node:o,levelNum:d}));t.html(s),l.apply(a,[t,c,o,n,e,i])},r(this.render,0),this.edit=function(){d.edit(a.adapter)},this.remove=function(){d.remove(a.adapter)},this.add=function(){return a.expand().then(function(e){d.add(a.adapter,e)})},t.on({click:function(e){e.preventDefault();var t=!a.checked;e.ctrlKey||e.metaKey||!function(){var n=angular.extend([],c.checkedNodes),r=[];if(t&&e.shiftKey&&n.length>0){for(var i=_.sortBy(r.concat(n,[a]),function(e){return e.$el.index()}),l=i[0],o=i[i.length-1],d=l;d!==o;d=d.$el.next().scope().$node)i.indexOf(d)<0&&i.push(d);angular.forEach(i,function(e){return e.checked=t}),r=i}angular.forEach(n,function(e){r.indexOf(e)<0&&(e.checked=!1)})}(),a.checked=t}})}function l(e,t,n,r,i,a){function l(n,r){var i=a.defer();if(this.isParent&&!this.loaded)t.retrieve(this,n,r).then(function(e){i.resolve(e)}),this.loaded=!0;else{if(!r){var l=n?this.descendants:this.$children;angular.forEach(l,function(e){e.$el.removeClass("hidden").addClass(n?"open":"")}),this.loaded=!0}i.resolve(this.$children)}return e.addClass(r?"":"open"),i.promise}function c(){angular.forEach(this.$children,function(e){e.$el.addClass("hidden"),e.$children&&e.collapse()}),e.removeClass("open")}var d=this,u=t.colDefs;angular.forEach(u,function(t){var a=_.template("<td><%- node[col.name]%></td>"),u=$(a({node:n,col:t})),s=n[t.name];if(t.tpl){var p=angular.element("<div>").html(t.tpl);u.html(p);var f=i.$new();f.$node=d.adapter,r(p)(f),$(".fa, .ebp-tt-btn",p).click(function(e){return e.stopPropagation()}),u.addClass("ebp-tt-func-cell")}else if("progressBar"===t.type&&(o(u,{value:s}),u.addClass("ebp-tt-comp-cell")),"crud"===t.type){var h=$("<a>").addClass("ebp-tt-btn ebp-tt-btn-add").attr("title","插入"),v=$("<a>").addClass("ebp-tt-btn ebp-tt-btn-delete").attr("title","删除");h.click(function(e){e.preventDefault(),e.stopPropagation(),d.add()}),v.click(function(e){e.preventDefault(),e.stopPropagation(),d.remove()}),u.append(h).append(v)}if(t.checkable&&!function(){var e=$("<label>").addClass("ebp-tt-checkbox"),t=$("<input />",{type:"checkbox"});e.append(t),e.append("<span>"),u.prepend(e),t.on({change:function(){d.checked=t.is(":checked")}}),e.click(function(e){return e.stopPropagation()})}(),t.expandable){var b=20*(i.level-1);u.css({"text-indent":b+"px"});var g=$("<i>").addClass("ebp-tt-expand-handler");u.prepend(g),d.expandHandlers instanceof $?d.expandHandlers.add(g):d.expandHandlers=$(g),g.on("click",function(t){t.stopPropagation(),e.is(".open")?d.collapse():d.expand()}),n.isParent||g.addClass("trans"),d.expand=function(e){return l.apply(d,[e])},d.retrieve=function(e){return l.apply(d,[e,!0])},d.collapse=c,d.expandableCells instanceof $?d.expandableCells.add(u):d.expandableCells=u,e.data("expand")&&d.expand(!0)}e.append(u)})}function o(e,t){var n=new u(t);e.html(n.el)}a.$inject=["$scope","$element","$compile","$timeout","$q"],Object.defineProperty(e,"__esModule",{value:!0});var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t){n(this,e),this.el=$("<div>").addClass("ebp-tt-progressbar"),this.bar=$("<div>").addClass("ebp-tt-progressbar-inner"),this.el.append(this.bar),this.value=t.value,this.render()}return d(e,[{key:"render",value:function(){var e=this;this.value>0?this.bar.show():this.bar.hide(),setTimeout(function(){e.bar.width(e.value+"%")},0)}}]),e}(),s=function f(e,r,i,l){"ngInject";function o(e,t){if(0>t)return!1;for(var n=e.get(t),r=arguments.length,i=Array(r>2?r-2:0),a=2;r>a;a++)i[a-2]=arguments[a];return angular.forEach(i,function(t){t.$level++,_.remove(e.$children,function(e){return e===t}),n.$children=n.$children||[],n.$children.push(t),t.$parent=n,angular.forEach(t.descendants,function(e){e.updatePosition(),e.$level++})}),n.isParent||(n.isParent=!!i.length,n.loaded=!0),!0}var d=this;n(this,f);var u=r.$ebpTreeTable,s=!1;e.invoke(a,this,{$scope:r,$element:i}),this.$el=i;var h=e.instantiate(p,{$node:this,$scope:r});h.constructor.original=this;var v=r.level,b=r.$parent.$node,g=!1,m=_.uniqueId("node_");Object.defineProperties(this,{$id:{get:function(){return m}},data:{get:function(){return r.node}},$level:{get:function(){return v},set:function(e){return v=e}},loaded:{get:function(){return g},set:function(e){return g=!!e}},$parent:{get:function(){return b},set:function(e){return b=e}},levelIndex:{get:function(){var e=0;return e=d.$parent?_.indexOf(d.$parent.$children,d):_.indexOf(u.$children,d)}},levelNum:{get:function(){for(var e="",t=d;t;)e=t.levelIndex+1+"."+e,t=t.$parent;return e.substring(0,e.length-1)}},isParent:{get:function(){return d.data.isParent},set:function(e){e?d.expandHandlers.removeClass("trans"):d.expandHandlers.addClass("trans"),d.data.isParent=e}},checked:{get:function(){return s},set:function(e){s=e;var t=$(".ebp-tt-checkbox > input",i);s?(u.checkedNodes.push(d),i.addClass("checked"),t.prop("checked",!0)):(_.remove(u.checkedNodes,function(e){return e===d}),i.removeClass("checked"),t.prop("checked",!1))}},adapter:{get:function(){return h}},descendants:{get:function(){var e=[].concat(d.$children||[]);return angular.forEach(e,function(n){e.push.apply(e,t(n.descendants))}),e}},$last:{get:function(){return angular.isArray(d.$children)?d.get(d.$children.length-1):!1}}}),u.register(this),!function(){var e=d.$parent;e?(d.$parent.$children=d.$parent.$children||[],e.isParent=!0):e=u;var t=e.$children||[],n=i.data("index");angular.isUndefined(n)?n=t.length:setTimeout(function(){e.refreshLevelNum()},0),t.splice(n,0,d)}(),r.$on("ebp.tt.refreshLevelNum",function(){d.$el.find(".ebp-tt-level-cell").text(d.levelNum)}),this.refreshLevelNum=function(){angular.forEach([].concat(d.descendants,[d]),function(e){e.$el.find(".ebp-tt-level-cell").text(e.levelNum)})},this.$destroy=function(){i.remove(),u.deregister(d),r.$destroy()},this.get=function(e){return d.$children?d.$children[e]:null},this.exchange=function(e){if(e&&!angular.equals(d,e)&&d.$level===e.$level){var t=d.levelIndex;if(0>t)return;var n=d.levelIndex,r=e.levelIndex,i=d.$el.next(),a=e.$el.prev();n>r?(e.$el.insertBefore(i),d.$el.insertAfter(a)):(e.$el.insertBefore(d.$el),d.$el.insertAfter(a)),angular.forEach(d.descendants,function(e){return e.updatePosition()}),angular.forEach(e.descendants,function(e){return e.updatePosition()}),d.$parent?(d.$parent.$children.splice(n,1),d.$parent.$children.splice(r,0,d),d.$parent.refreshLevelNum()):(u.$children.splice(n,1),u.$children.splice(r,0,d),u.refreshLevelNum()),u.reIndex()}},r.$on("ebp-tt-node-check",function(e,t){d.checked=t}),this.updatePosition=function(){var e=d.$parent.$el.index()+d.levelIndex;d.$el.index()<e&&e--;var t=d.$el.siblings().eq(e);d.$el.insertAfter(t)},this.removeChildren=function(){function e(n){var r=n;return angular.forEach(n,function(n){n.$children&&r.push.apply(r,t(e(n.$children)))}),r}var n=d.$children,r=e(n);angular.forEach(r,function(e){_.remove(u.data,function(t){return t.id===e.data.id}),e.$destroy()})},this.reIndent=function(){angular.forEach([].concat(d.descendants,[d]),function(e){var t=20*(e.$level-1);l(function(){e.expandableCells.css({"text-indent":t+"px"})},0)})},this.shiftUp=function(){if(!(d.levelIndex<1)){var e=null;e=d.$parent?d.$parent.get(d.levelIndex-1):u.get(d.levelIndex-1),d.exchange(e)}},this.shiftDown=function(){var e=null;e=d.$parent?d.$parent.get(d.levelIndex+1):u.get(d.levelIndex+1),d.exchange(e)},this.upgrade=function(e){var n=d.$parent,r=d.$parent,i=u;if(r&&(e&&o.apply(void 0,[r,d.levelIndex].concat(t(_.filter(r.$children,function(e){return e.levelIndex>d.levelIndex}))))||!e)){e&&d.expand();var a=n.levelIndex+1;r.$parent&&(i=r.$parent),d.$level--,_.remove(r.$children,function(e){return e===d}),i.$children.splice(a,0,d),d.$parent=r.$parent||void 0,angular.forEach(d.descendants,function(e){e.updatePosition(),e.$level--}),d.reIndent(),i.refreshLevelNum(),u.reIndex(),r.$children.length<1&&(r.isParent=!1)}},this.degrade=function(e){if(e){if(!angular.isFunction(e))throw new Error("Expect a function to call, but got a/an "+("undefined"==typeof e?"undefined":c(e)))}else e=function(e){e()};var t=d.$parent||u,n=t.get(d.levelIndex-1);n&&n.retrieve().then(function(){e(r)});var r=function(){n.expand().then(function(){o(t,d.levelIndex-1,d)&&(d.reIndent(),t.refreshLevelNum(),u.reIndex(),n.$el.addClass("open"))})}}};s.$inject=["$injector","$scope","$element","$timeout"];var p=function h(e,t){"ngInject";var r=this;n(this,h);var i=t.$ebpTreeTable;Object.defineProperties(this,{id:{get:function(){return e.$id}},model:{get:function(){return e.data}},levelNum:{get:function(){return e.levelNum}},parent:{get:function(){return e.$parent?e.$parent.adapter:null}},children:{get:function(){return _.map(e.$children,function(e){return e.adapter})}}}),this.update=function(n){_.merge(r.model,n),e.render(),t.$$phase||t.$apply()},this.insert=function(t,n){!n||e.$children&&t>e.$children.length||(i.add(t,e,n),r.checked=!1)},this.remove=function(){var t=_.remove(i.data,function(e){return e.id===r.model.id});if(t.length>0){e.removeChildren();var n=e.$parent;n?(_.remove(n.$children,function(t){return t===e}),n.refreshLevelNum(),n.$children.length<1&&(n.isParent=!1)):(_.remove(i.$children,function(t){return t===e}),i.refreshLevelNum()),e.$destroy(),i.reIndex()}},this.shiftUp=function(){return e.shiftUp()},this.shiftDown=function(){return e.shiftDown()},this.upgrade=function(){return e.upgrade()},this.degrade=function(t){return e.degrade(t)}};p.$inject=["$node","$scope"],e["default"]=i}.apply(t,r),!(void 0!==i&&(e.exports=i))},function(e,t,n){var r,i;r=[t],i=function(e){"use strict";function t(e,t){var n=t.width(),r=e.$ebpTreeTable,i=r.events,a=r.resizeMark,l=e.col;if("undefined"==typeof interact&&angular.isFunction(requirejs)&&(window.interact=requirejs("interact")),interact(t[0]).resizable({preserveAspectRatio:!0,edges:{left:!1,right:!0,bottom:!1,top:!1}}).on({resizestart:function(){e.$apply(function(){a.display="block"})},resizemove:function(t){e.$apply(function(){var e=t.pageX-r.$el.offset().left;a.left=e+"px",n=t.rect.width})},resizeend:function(){e.$apply(function(){e.col?e.col.width=n:r.resizeCol(t.index()+1,n),a.display="none"})}}),l){if("crud"===l.type){var o=$("<a>").addClass("ebp-tt-btn ebp-tt-btn-insert-row").attr("title","操作列");o.on("click",function(e){e.preventDefault(),i.add(null,r.$children)}),t.addClass("ebp-tt-crud-col"),t.html(o)}l.checkable&&!function(){var e=$("<label>").addClass("ebp-tt-checkbox"),n=$("<input />",{type:"checkbox"});e.append(n),e.append("<span>"),t.children("div").prepend(e),n.on({change:function(){var e=n.is(":checked");r.checkAll(e)}})}()}}function n(){var e={restrict:"C",scope:!1,link:t};return e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n}.apply(t,r),!(void 0!==i&&(e.exports=i))}]),angular.module("ebp.treetable").run(["$templateCache",function(e){e.put("src/treeTable/templates/treeTable.tpl.html",'<div class="ebp-tt-header"><div class="ebp-tt-header-wrapper"><table><colgroup><col class="ebp-tt-index-col"><col class="ebp-tt-level-col"><col ng-repeat="col in $ebpTreeTable.colDefs" ng-style="{width: col.width+\'px\'}"></colgroup><thead><tr><th class="columnheader ebp-tt-index-cell"></th><th class="columnheader ebp-tt-level-cell"><div>编号</div></th><th class="columnheader" ng-repeat="col in $ebpTreeTable.colDefs"><div>{{col.title}}</div></th></tr></thead></table></div></div><div class="ebp-tt-content-wrapper"><table><colgroup><col class="ebp-tt-index-col"><col class="ebp-tt-level-col"><col ng-repeat="col in $ebpTreeTable.colDefs" ng-style="{width: col.width+\'px\'}"></colgroup><tbody></tbody></table></div><div class="ebp-tt-resize-mark" ng-style="$ebpTreeTable.resizeMark"></div>')}]);